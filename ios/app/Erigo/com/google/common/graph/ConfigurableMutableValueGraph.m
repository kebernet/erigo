//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Volumes/Personal/Documents/raspi-config/client-framework/build/j2oSources/com/google/common/graph/ConfigurableMutableValueGraph.java
//

#include "J2ObjC_source.h"
#include "com/google/common/base/Preconditions.h"
#include "com/google/common/graph/AbstractGraphBuilder.h"
#include "com/google/common/graph/ConfigurableMutableValueGraph.h"
#include "com/google/common/graph/ConfigurableValueGraph.h"
#include "com/google/common/graph/DirectedGraphConnections.h"
#include "com/google/common/graph/GraphConnections.h"
#include "com/google/common/graph/GraphConstants.h"
#include "com/google/common/graph/Graphs.h"
#include "com/google/common/graph/MapIteratorCache.h"
#include "com/google/common/graph/UndirectedGraphConnections.h"
#include "java/util/Set.h"

@interface ComGoogleCommonGraphConfigurableMutableValueGraph ()

- (id<ComGoogleCommonGraphGraphConnections>)addNodeInternalWithId:(id)node;

- (id<ComGoogleCommonGraphGraphConnections>)newConnections OBJC_METHOD_FAMILY_NONE;

@end

__attribute__((unused)) static id<ComGoogleCommonGraphGraphConnections> ComGoogleCommonGraphConfigurableMutableValueGraph_addNodeInternalWithId_(ComGoogleCommonGraphConfigurableMutableValueGraph *self, id node);

__attribute__((unused)) static id<ComGoogleCommonGraphGraphConnections> ComGoogleCommonGraphConfigurableMutableValueGraph_newConnections(ComGoogleCommonGraphConfigurableMutableValueGraph *self);

@implementation ComGoogleCommonGraphConfigurableMutableValueGraph

- (instancetype)initWithComGoogleCommonGraphAbstractGraphBuilder:(ComGoogleCommonGraphAbstractGraphBuilder *)builder {
  ComGoogleCommonGraphConfigurableMutableValueGraph_initWithComGoogleCommonGraphAbstractGraphBuilder_(self, builder);
  return self;
}

- (jboolean)addNodeWithId:(id)node {
  (void) ComGoogleCommonBasePreconditions_checkNotNullWithId_withId_(node, @"node");
  if ([self containsNodeWithId:node]) {
    return false;
  }
  (void) ComGoogleCommonGraphConfigurableMutableValueGraph_addNodeInternalWithId_(self, node);
  return true;
}

- (id<ComGoogleCommonGraphGraphConnections>)addNodeInternalWithId:(id)node {
  return ComGoogleCommonGraphConfigurableMutableValueGraph_addNodeInternalWithId_(self, node);
}

- (id)putEdgeValueWithId:(id)nodeU
                  withId:(id)nodeV
                  withId:(id)value {
  (void) ComGoogleCommonBasePreconditions_checkNotNullWithId_withId_(nodeU, @"nodeU");
  (void) ComGoogleCommonBasePreconditions_checkNotNullWithId_withId_(nodeV, @"nodeV");
  (void) ComGoogleCommonBasePreconditions_checkNotNullWithId_withId_(value, @"value");
  if (![self allowsSelfLoops]) {
    ComGoogleCommonBasePreconditions_checkArgumentWithBoolean_withNSString_withId_(![nil_chk(nodeU) isEqual:nodeV], ComGoogleCommonGraphGraphConstants_SELF_LOOPS_NOT_ALLOWED, nodeU);
  }
  id<ComGoogleCommonGraphGraphConnections> connectionsU = [((ComGoogleCommonGraphMapIteratorCache *) nil_chk(nodeConnections_)) getWithId:nodeU];
  if (connectionsU == nil) {
    connectionsU = ComGoogleCommonGraphConfigurableMutableValueGraph_addNodeInternalWithId_(self, nodeU);
  }
  id previousValue = [((id<ComGoogleCommonGraphGraphConnections>) nil_chk(connectionsU)) addSuccessorWithId:nodeV withId:value];
  id<ComGoogleCommonGraphGraphConnections> connectionsV = [nodeConnections_ getWithId:nodeV];
  if (connectionsV == nil) {
    connectionsV = ComGoogleCommonGraphConfigurableMutableValueGraph_addNodeInternalWithId_(self, nodeV);
  }
  [((id<ComGoogleCommonGraphGraphConnections>) nil_chk(connectionsV)) addPredecessorWithId:nodeU withId:value];
  if (previousValue == nil) {
    ComGoogleCommonGraphGraphs_checkPositiveWithLong_(++edgeCount_);
  }
  return previousValue;
}

- (jboolean)removeNodeWithId:(id)node {
  (void) ComGoogleCommonBasePreconditions_checkNotNullWithId_withId_(node, @"node");
  id<ComGoogleCommonGraphGraphConnections> connections = [((ComGoogleCommonGraphMapIteratorCache *) nil_chk(nodeConnections_)) getWithId:node];
  if (connections == nil) {
    return false;
  }
  if ([self allowsSelfLoops]) {
    if ([connections removeSuccessorWithId:node] != nil) {
      [connections removePredecessorWithId:node];
      --edgeCount_;
    }
  }
  for (id __strong successor in nil_chk([connections successors])) {
    [((id<ComGoogleCommonGraphGraphConnections>) nil_chk([nodeConnections_ getWithoutCachingWithId:successor])) removePredecessorWithId:node];
    --edgeCount_;
  }
  if ([self isDirected]) {
    for (id __strong predecessor in nil_chk([connections predecessors])) {
      ComGoogleCommonBasePreconditions_checkStateWithBoolean_([((id<ComGoogleCommonGraphGraphConnections>) nil_chk([nodeConnections_ getWithoutCachingWithId:predecessor])) removeSuccessorWithId:node] != nil);
      --edgeCount_;
    }
  }
  (void) [nodeConnections_ removeWithId:node];
  ComGoogleCommonGraphGraphs_checkNonNegativeWithLong_(edgeCount_);
  return true;
}

- (id)removeEdgeWithId:(id)nodeU
                withId:(id)nodeV {
  (void) ComGoogleCommonBasePreconditions_checkNotNullWithId_withId_(nodeU, @"nodeU");
  (void) ComGoogleCommonBasePreconditions_checkNotNullWithId_withId_(nodeV, @"nodeV");
  id<ComGoogleCommonGraphGraphConnections> connectionsU = [((ComGoogleCommonGraphMapIteratorCache *) nil_chk(nodeConnections_)) getWithId:nodeU];
  id<ComGoogleCommonGraphGraphConnections> connectionsV = [nodeConnections_ getWithId:nodeV];
  if (connectionsU == nil || connectionsV == nil) {
    return nil;
  }
  id previousValue = [connectionsU removeSuccessorWithId:nodeV];
  if (previousValue != nil) {
    [connectionsV removePredecessorWithId:nodeU];
    ComGoogleCommonGraphGraphs_checkNonNegativeWithLong_(--edgeCount_);
  }
  return previousValue;
}

- (id<ComGoogleCommonGraphGraphConnections>)newConnections {
  return ComGoogleCommonGraphConfigurableMutableValueGraph_newConnections(self);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, 1, -1, -1 },
    { NULL, "Z", 0x1, 2, 3, -1, 4, -1, -1 },
    { NULL, "LComGoogleCommonGraphGraphConnections;", 0x2, 5, 3, -1, 6, -1, -1 },
    { NULL, "LNSObject;", 0x1, 7, 8, -1, 9, -1, -1 },
    { NULL, "Z", 0x1, 10, 3, -1, 4, -1, -1 },
    { NULL, "LNSObject;", 0x1, 11, 12, -1, 13, -1, -1 },
    { NULL, "LComGoogleCommonGraphGraphConnections;", 0x2, -1, -1, -1, 14, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithComGoogleCommonGraphAbstractGraphBuilder:);
  methods[1].selector = @selector(addNodeWithId:);
  methods[2].selector = @selector(addNodeInternalWithId:);
  methods[3].selector = @selector(putEdgeValueWithId:withId:withId:);
  methods[4].selector = @selector(removeNodeWithId:);
  methods[5].selector = @selector(removeEdgeWithId:withId:);
  methods[6].selector = @selector(newConnections);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "LComGoogleCommonGraphAbstractGraphBuilder;", "(Lcom/google/common/graph/AbstractGraphBuilder<-TN;>;)V", "addNode", "LNSObject;", "(TN;)Z", "addNodeInternal", "(TN;)Lcom/google/common/graph/GraphConnections<TN;TV;>;", "putEdgeValue", "LNSObject;LNSObject;LNSObject;", "(TN;TN;TV;)TV;", "removeNode", "removeEdge", "LNSObject;LNSObject;", "(TN;TN;)TV;", "()Lcom/google/common/graph/GraphConnections<TN;TV;>;", "<N:Ljava/lang/Object;V:Ljava/lang/Object;>Lcom/google/common/graph/ConfigurableValueGraph<TN;TV;>;Lcom/google/common/graph/MutableValueGraph<TN;TV;>;" };
  static const J2ObjcClassInfo _ComGoogleCommonGraphConfigurableMutableValueGraph = { "ConfigurableMutableValueGraph", "com.google.common.graph", ptrTable, methods, NULL, 7, 0x10, 7, 0, -1, -1, -1, 15, -1 };
  return &_ComGoogleCommonGraphConfigurableMutableValueGraph;
}

@end

void ComGoogleCommonGraphConfigurableMutableValueGraph_initWithComGoogleCommonGraphAbstractGraphBuilder_(ComGoogleCommonGraphConfigurableMutableValueGraph *self, ComGoogleCommonGraphAbstractGraphBuilder *builder) {
  ComGoogleCommonGraphConfigurableValueGraph_initWithComGoogleCommonGraphAbstractGraphBuilder_(self, builder);
}

ComGoogleCommonGraphConfigurableMutableValueGraph *new_ComGoogleCommonGraphConfigurableMutableValueGraph_initWithComGoogleCommonGraphAbstractGraphBuilder_(ComGoogleCommonGraphAbstractGraphBuilder *builder) {
  J2OBJC_NEW_IMPL(ComGoogleCommonGraphConfigurableMutableValueGraph, initWithComGoogleCommonGraphAbstractGraphBuilder_, builder)
}

ComGoogleCommonGraphConfigurableMutableValueGraph *create_ComGoogleCommonGraphConfigurableMutableValueGraph_initWithComGoogleCommonGraphAbstractGraphBuilder_(ComGoogleCommonGraphAbstractGraphBuilder *builder) {
  J2OBJC_CREATE_IMPL(ComGoogleCommonGraphConfigurableMutableValueGraph, initWithComGoogleCommonGraphAbstractGraphBuilder_, builder)
}

id<ComGoogleCommonGraphGraphConnections> ComGoogleCommonGraphConfigurableMutableValueGraph_addNodeInternalWithId_(ComGoogleCommonGraphConfigurableMutableValueGraph *self, id node) {
  id<ComGoogleCommonGraphGraphConnections> connections = ComGoogleCommonGraphConfigurableMutableValueGraph_newConnections(self);
  ComGoogleCommonBasePreconditions_checkStateWithBoolean_([((ComGoogleCommonGraphMapIteratorCache *) nil_chk(self->nodeConnections_)) putWithId:node withId:connections] == nil);
  return connections;
}

id<ComGoogleCommonGraphGraphConnections> ComGoogleCommonGraphConfigurableMutableValueGraph_newConnections(ComGoogleCommonGraphConfigurableMutableValueGraph *self) {
  return [self isDirected] ? ComGoogleCommonGraphDirectedGraphConnections_of() : (id) ComGoogleCommonGraphUndirectedGraphConnections_of();
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleCommonGraphConfigurableMutableValueGraph)
