//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Volumes/Personal/Documents/raspi-config/client-framework/build/j2oSources/com/google/common/math/PairedStats.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "com/google/common/base/MoreObjects.h"
#include "com/google/common/base/Objects.h"
#include "com/google/common/base/Preconditions.h"
#include "com/google/common/math/LinearTransformation.h"
#include "com/google/common/math/PairedStats.h"
#include "com/google/common/math/Stats.h"
#include "java/lang/Double.h"
#include "java/lang/Math.h"
#include "java/lang/annotation/Annotation.h"
#include "java/nio/ByteBuffer.h"
#include "java/nio/ByteOrder.h"
#include "javax/annotation/Nullable.h"

@interface ComGoogleCommonMathPairedStats () {
 @public
  ComGoogleCommonMathStats *xStats_;
  ComGoogleCommonMathStats *yStats_;
  jdouble sumOfProductsOfDeltas_;
}

+ (jdouble)ensurePositiveWithDouble:(jdouble)value;

+ (jdouble)ensureInUnitRangeWithDouble:(jdouble)value;

@end

J2OBJC_FIELD_SETTER(ComGoogleCommonMathPairedStats, xStats_, ComGoogleCommonMathStats *)
J2OBJC_FIELD_SETTER(ComGoogleCommonMathPairedStats, yStats_, ComGoogleCommonMathStats *)

inline jint ComGoogleCommonMathPairedStats_get_BYTES();
#define ComGoogleCommonMathPairedStats_BYTES 88
J2OBJC_STATIC_FIELD_CONSTANT(ComGoogleCommonMathPairedStats, BYTES, jint)

inline jlong ComGoogleCommonMathPairedStats_get_serialVersionUID();
#define ComGoogleCommonMathPairedStats_serialVersionUID 0LL
J2OBJC_STATIC_FIELD_CONSTANT(ComGoogleCommonMathPairedStats, serialVersionUID, jlong)

__attribute__((unused)) static jdouble ComGoogleCommonMathPairedStats_ensurePositiveWithDouble_(jdouble value);

__attribute__((unused)) static jdouble ComGoogleCommonMathPairedStats_ensureInUnitRangeWithDouble_(jdouble value);

__attribute__((unused)) static IOSObjectArray *ComGoogleCommonMathPairedStats__Annotations$0();

@implementation ComGoogleCommonMathPairedStats

- (instancetype)initWithComGoogleCommonMathStats:(ComGoogleCommonMathStats *)xStats
                    withComGoogleCommonMathStats:(ComGoogleCommonMathStats *)yStats
                                      withDouble:(jdouble)sumOfProductsOfDeltas {
  ComGoogleCommonMathPairedStats_initWithComGoogleCommonMathStats_withComGoogleCommonMathStats_withDouble_(self, xStats, yStats, sumOfProductsOfDeltas);
  return self;
}

- (jlong)count {
  return [((ComGoogleCommonMathStats *) nil_chk(xStats_)) count];
}

- (ComGoogleCommonMathStats *)xStats {
  return xStats_;
}

- (ComGoogleCommonMathStats *)yStats {
  return yStats_;
}

- (jdouble)populationCovariance {
  ComGoogleCommonBasePreconditions_checkStateWithBoolean_([self count] != 0);
  return sumOfProductsOfDeltas_ / [self count];
}

- (jdouble)sampleCovariance {
  ComGoogleCommonBasePreconditions_checkStateWithBoolean_([self count] > 1);
  return sumOfProductsOfDeltas_ / ([self count] - 1);
}

- (jdouble)pearsonsCorrelationCoefficient {
  ComGoogleCommonBasePreconditions_checkStateWithBoolean_([self count] > 1);
  if (JavaLangDouble_isNaNWithDouble_(sumOfProductsOfDeltas_)) {
    return JavaLangDouble_NaN;
  }
  jdouble xSumOfSquaresOfDeltas = [((ComGoogleCommonMathStats *) nil_chk([self xStats])) sumOfSquaresOfDeltas];
  jdouble ySumOfSquaresOfDeltas = [((ComGoogleCommonMathStats *) nil_chk([self yStats])) sumOfSquaresOfDeltas];
  ComGoogleCommonBasePreconditions_checkStateWithBoolean_(xSumOfSquaresOfDeltas > 0.0);
  ComGoogleCommonBasePreconditions_checkStateWithBoolean_(ySumOfSquaresOfDeltas > 0.0);
  jdouble productOfSumsOfSquaresOfDeltas = ComGoogleCommonMathPairedStats_ensurePositiveWithDouble_(xSumOfSquaresOfDeltas * ySumOfSquaresOfDeltas);
  return ComGoogleCommonMathPairedStats_ensureInUnitRangeWithDouble_(sumOfProductsOfDeltas_ / JavaLangMath_sqrtWithDouble_(productOfSumsOfSquaresOfDeltas));
}

- (ComGoogleCommonMathLinearTransformation *)leastSquaresFit {
  ComGoogleCommonBasePreconditions_checkStateWithBoolean_([self count] > 1);
  if (JavaLangDouble_isNaNWithDouble_(sumOfProductsOfDeltas_)) {
    return ComGoogleCommonMathLinearTransformation_forNaN();
  }
  jdouble xSumOfSquaresOfDeltas = [((ComGoogleCommonMathStats *) nil_chk(xStats_)) sumOfSquaresOfDeltas];
  if (xSumOfSquaresOfDeltas > 0.0) {
    if ([((ComGoogleCommonMathStats *) nil_chk(yStats_)) sumOfSquaresOfDeltas] > 0.0) {
      return [((ComGoogleCommonMathLinearTransformation_LinearTransformationBuilder *) nil_chk(ComGoogleCommonMathLinearTransformation_mappingWithDouble_withDouble_([xStats_ mean], [yStats_ mean]))) withSlopeWithDouble:sumOfProductsOfDeltas_ / xSumOfSquaresOfDeltas];
    }
    else {
      return ComGoogleCommonMathLinearTransformation_horizontalWithDouble_([yStats_ mean]);
    }
  }
  else {
    ComGoogleCommonBasePreconditions_checkStateWithBoolean_([((ComGoogleCommonMathStats *) nil_chk(yStats_)) sumOfSquaresOfDeltas] > 0.0);
    return ComGoogleCommonMathLinearTransformation_verticalWithDouble_([xStats_ mean]);
  }
}

- (jboolean)isEqual:(id)obj {
  if (obj == nil) {
    return false;
  }
  if ([self java_getClass] != [obj java_getClass]) {
    return false;
  }
  ComGoogleCommonMathPairedStats *other = (ComGoogleCommonMathPairedStats *) cast_chk(obj, [ComGoogleCommonMathPairedStats class]);
  return ([((ComGoogleCommonMathStats *) nil_chk(xStats_)) isEqual:other->xStats_]) && ([((ComGoogleCommonMathStats *) nil_chk(yStats_)) isEqual:other->yStats_]) && (JavaLangDouble_doubleToLongBitsWithDouble_(sumOfProductsOfDeltas_) == JavaLangDouble_doubleToLongBitsWithDouble_(other->sumOfProductsOfDeltas_));
}

- (NSUInteger)hash {
  return ComGoogleCommonBaseObjects_hashCodeWithNSObjectArray_([IOSObjectArray newArrayWithObjects:(id[]){ xStats_, yStats_, JavaLangDouble_valueOfWithDouble_(sumOfProductsOfDeltas_) } count:3 type:NSObject_class_()]);
}

- (NSString *)description {
  if ([self count] > 0) {
    return [((ComGoogleCommonBaseMoreObjects_ToStringHelper *) nil_chk([((ComGoogleCommonBaseMoreObjects_ToStringHelper *) nil_chk([((ComGoogleCommonBaseMoreObjects_ToStringHelper *) nil_chk([((ComGoogleCommonBaseMoreObjects_ToStringHelper *) nil_chk(ComGoogleCommonBaseMoreObjects_toStringHelperWithId_(self))) addWithNSString:@"xStats" withId:xStats_])) addWithNSString:@"yStats" withId:yStats_])) addWithNSString:@"populationCovariance" withDouble:[self populationCovariance]])) description];
  }
  else {
    return [((ComGoogleCommonBaseMoreObjects_ToStringHelper *) nil_chk([((ComGoogleCommonBaseMoreObjects_ToStringHelper *) nil_chk([((ComGoogleCommonBaseMoreObjects_ToStringHelper *) nil_chk(ComGoogleCommonBaseMoreObjects_toStringHelperWithId_(self))) addWithNSString:@"xStats" withId:xStats_])) addWithNSString:@"yStats" withId:yStats_])) description];
  }
}

- (jdouble)sumOfProductsOfDeltas {
  return sumOfProductsOfDeltas_;
}

+ (jdouble)ensurePositiveWithDouble:(jdouble)value {
  return ComGoogleCommonMathPairedStats_ensurePositiveWithDouble_(value);
}

+ (jdouble)ensureInUnitRangeWithDouble:(jdouble)value {
  return ComGoogleCommonMathPairedStats_ensureInUnitRangeWithDouble_(value);
}

- (IOSByteArray *)toByteArray {
  JavaNioByteBuffer *buffer = [((JavaNioByteBuffer *) nil_chk(JavaNioByteBuffer_allocateWithInt_(ComGoogleCommonMathPairedStats_BYTES))) orderWithJavaNioByteOrder:JreLoadStatic(JavaNioByteOrder, LITTLE_ENDIAN)];
  [((ComGoogleCommonMathStats *) nil_chk(xStats_)) writeToWithJavaNioByteBuffer:buffer];
  [((ComGoogleCommonMathStats *) nil_chk(yStats_)) writeToWithJavaNioByteBuffer:buffer];
  (void) [((JavaNioByteBuffer *) nil_chk(buffer)) putDoubleWithDouble:sumOfProductsOfDeltas_];
  return [buffer array];
}

+ (ComGoogleCommonMathPairedStats *)fromByteArrayWithByteArray:(IOSByteArray *)byteArray {
  return ComGoogleCommonMathPairedStats_fromByteArrayWithByteArray_(byteArray);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "J", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComGoogleCommonMathStats;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComGoogleCommonMathStats;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "D", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "D", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "D", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComGoogleCommonMathLinearTransformation;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 1, 2, -1, -1, -1, 3 },
    { NULL, "I", 0x1, 4, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 5, -1, -1, -1, -1, -1 },
    { NULL, "D", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "D", 0xa, 6, 7, -1, -1, -1, -1 },
    { NULL, "D", 0xa, 8, 7, -1, -1, -1, -1 },
    { NULL, "[B", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComGoogleCommonMathPairedStats;", 0x9, 9, 10, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithComGoogleCommonMathStats:withComGoogleCommonMathStats:withDouble:);
  methods[1].selector = @selector(count);
  methods[2].selector = @selector(xStats);
  methods[3].selector = @selector(yStats);
  methods[4].selector = @selector(populationCovariance);
  methods[5].selector = @selector(sampleCovariance);
  methods[6].selector = @selector(pearsonsCorrelationCoefficient);
  methods[7].selector = @selector(leastSquaresFit);
  methods[8].selector = @selector(isEqual:);
  methods[9].selector = @selector(hash);
  methods[10].selector = @selector(description);
  methods[11].selector = @selector(sumOfProductsOfDeltas);
  methods[12].selector = @selector(ensurePositiveWithDouble:);
  methods[13].selector = @selector(ensureInUnitRangeWithDouble:);
  methods[14].selector = @selector(toByteArray);
  methods[15].selector = @selector(fromByteArrayWithByteArray:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "xStats_", "LComGoogleCommonMathStats;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "yStats_", "LComGoogleCommonMathStats;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "sumOfProductsOfDeltas_", "D", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "BYTES", "I", .constantValue.asInt = ComGoogleCommonMathPairedStats_BYTES, 0x1a, -1, -1, -1, -1 },
    { "serialVersionUID", "J", .constantValue.asLong = ComGoogleCommonMathPairedStats_serialVersionUID, 0x1a, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LComGoogleCommonMathStats;LComGoogleCommonMathStats;D", "equals", "LNSObject;", (void *)&ComGoogleCommonMathPairedStats__Annotations$0, "hashCode", "toString", "ensurePositive", "D", "ensureInUnitRange", "fromByteArray", "[B" };
  static const J2ObjcClassInfo _ComGoogleCommonMathPairedStats = { "PairedStats", "com.google.common.math", ptrTable, methods, fields, 7, 0x11, 16, 5, -1, -1, -1, -1, -1 };
  return &_ComGoogleCommonMathPairedStats;
}

@end

void ComGoogleCommonMathPairedStats_initWithComGoogleCommonMathStats_withComGoogleCommonMathStats_withDouble_(ComGoogleCommonMathPairedStats *self, ComGoogleCommonMathStats *xStats, ComGoogleCommonMathStats *yStats, jdouble sumOfProductsOfDeltas) {
  NSObject_init(self);
  self->xStats_ = xStats;
  self->yStats_ = yStats;
  self->sumOfProductsOfDeltas_ = sumOfProductsOfDeltas;
}

ComGoogleCommonMathPairedStats *new_ComGoogleCommonMathPairedStats_initWithComGoogleCommonMathStats_withComGoogleCommonMathStats_withDouble_(ComGoogleCommonMathStats *xStats, ComGoogleCommonMathStats *yStats, jdouble sumOfProductsOfDeltas) {
  J2OBJC_NEW_IMPL(ComGoogleCommonMathPairedStats, initWithComGoogleCommonMathStats_withComGoogleCommonMathStats_withDouble_, xStats, yStats, sumOfProductsOfDeltas)
}

ComGoogleCommonMathPairedStats *create_ComGoogleCommonMathPairedStats_initWithComGoogleCommonMathStats_withComGoogleCommonMathStats_withDouble_(ComGoogleCommonMathStats *xStats, ComGoogleCommonMathStats *yStats, jdouble sumOfProductsOfDeltas) {
  J2OBJC_CREATE_IMPL(ComGoogleCommonMathPairedStats, initWithComGoogleCommonMathStats_withComGoogleCommonMathStats_withDouble_, xStats, yStats, sumOfProductsOfDeltas)
}

jdouble ComGoogleCommonMathPairedStats_ensurePositiveWithDouble_(jdouble value) {
  ComGoogleCommonMathPairedStats_initialize();
  if (value > 0.0) {
    return value;
  }
  else {
    return JavaLangDouble_MIN_VALUE;
  }
}

jdouble ComGoogleCommonMathPairedStats_ensureInUnitRangeWithDouble_(jdouble value) {
  ComGoogleCommonMathPairedStats_initialize();
  if (value >= 1.0) {
    return 1.0;
  }
  if (value <= -1.0) {
    return -1.0;
  }
  return value;
}

ComGoogleCommonMathPairedStats *ComGoogleCommonMathPairedStats_fromByteArrayWithByteArray_(IOSByteArray *byteArray) {
  ComGoogleCommonMathPairedStats_initialize();
  (void) ComGoogleCommonBasePreconditions_checkNotNullWithId_(byteArray);
  ComGoogleCommonBasePreconditions_checkArgumentWithBoolean_withNSString_withInt_withInt_(((IOSByteArray *) nil_chk(byteArray))->size_ == ComGoogleCommonMathPairedStats_BYTES, @"Expected PairedStats.BYTES = %s, got %s", ComGoogleCommonMathPairedStats_BYTES, byteArray->size_);
  JavaNioByteBuffer *buffer = [((JavaNioByteBuffer *) nil_chk(JavaNioByteBuffer_wrapWithByteArray_(byteArray))) orderWithJavaNioByteOrder:JreLoadStatic(JavaNioByteOrder, LITTLE_ENDIAN)];
  ComGoogleCommonMathStats *xStats = ComGoogleCommonMathStats_readFromWithJavaNioByteBuffer_(buffer);
  ComGoogleCommonMathStats *yStats = ComGoogleCommonMathStats_readFromWithJavaNioByteBuffer_(buffer);
  jdouble sumOfProductsOfDeltas = [((JavaNioByteBuffer *) nil_chk(buffer)) getDouble];
  return new_ComGoogleCommonMathPairedStats_initWithComGoogleCommonMathStats_withComGoogleCommonMathStats_withDouble_(xStats, yStats, sumOfProductsOfDeltas);
}

IOSObjectArray *ComGoogleCommonMathPairedStats__Annotations$0() {
  return [IOSObjectArray newArrayWithObjects:(id[]){ [IOSObjectArray newArrayWithObjects:(id[]){ create_JavaxAnnotationNullable() } count:1 type:JavaLangAnnotationAnnotation_class_()] } count:1 type:IOSClass_arrayType(JavaLangAnnotationAnnotation_class_(), 1)];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleCommonMathPairedStats)
